<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AREdu by Ayushman Choudhary</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <!-- Hydrogen Marker -->
        <a-marker type="pattern" url="markers/chemistry_hydrogen.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/chemistry/hydrogen.glb">
            </a-entity>
        </a-marker>

        <!-- Oxygen Marker -->
        <a-marker type="pattern" url="markers/chemistry_oxygen.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/chemistry/oxygen.glb">
            </a-entity>
        </a-marker>

        <!-- Water Molecule (H2O) -->
        <a-entity
            id="water-molecule"
            visible="false"
            position="0 0 0"
            scale="0.1 0.1 0.1"
            gltf-model="assets/models/chemistry/h2o_molecule.glb">
        </a-entity>

        <!-- Water Sphere -->
        <a-entity
            id="water-sphere"
            visible="false"
            position="0 0 0"
            scale="0.1 0.1 0.1"
            gltf-model="assets/models/chemistry/water_sphere.glb">
        </a-entity>

        <!-- Carbon Marker -->
        <a-marker type="pattern" url="markers/chemistry_carbon.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/chemistry/carbon.glb">
            </a-entity>
        </a-marker>

        <!-- Methane Molecule (CH4) -->
        <a-entity
            id="methane-molecule"
            visible="false"
            position="0 0 0"
            scale="0.1 0.1 0.1"
            gltf-model="assets/models/chemistry/ch4_molecule.glb">
        </a-entity>

        <!-- Methane Sphere -->
        <a-entity
            id="methane-sphere"
            visible="false"
            position="0 0 0"
            scale="0.1 0.1 0.1"
            gltf-model="assets/models/chemistry/methane_sphere.glb">
        </a-entity>

        <!-- History and Biology Markers (Visual Only) -->
        <a-marker type="pattern" url="markers/history_egyptian.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/history/egyptian.glb">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markers/history_roman.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/history/roman.glb">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markers/biology_tree.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/biology/tree.glb">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markers/biology_flower.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/biology/flower.glb">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markers/biology_dna.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/biology/dna.glb">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markers/biology_cell.patt">
            <a-entity
                position="0 0 0"
                scale="0.1 0.1 0.1"
                gltf-model="assets/models/biology/cell.glb">
            </a-entity>
        </a-marker>

        <!-- Camera -->
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // Logic for Hydrogen and Oxygen forming Water
        const hydrogenMarker = document.querySelector('a-marker[url="markers/chemistry_hydrogen.patt"]');
        const oxygenMarker = document.querySelector('a-marker[url="markers/chemistry_oxygen.patt"]');
        const waterMolecule = document.getElementById('water-molecule');
        const waterSphere = document.getElementById('water-sphere');

        hydrogenMarker.addEventListener('markerFound', () => {
            if (oxygenMarker.object3D.visible) {
                waterMolecule.setAttribute('visible', true);
                setTimeout(() => {
                    waterMolecule.setAttribute('visible', false);
                    waterSphere.setAttribute('visible', true);
                }, 3000); // Show water sphere after 3 seconds
            }
        });

        // Logic for Carbon and Hydrogens forming Methane
        const carbonMarker = document.querySelector('a-marker[url="markers/chemistry_carbon.patt"]');
        const methaneMolecule = document.getElementById('methane-molecule');
        const methaneSphere = document.getElementById('methane-sphere');

        carbonMarker.addEventListener('markerFound', () => {
            if (hydrogenMarker.object3D.visible) {
                methaneMolecule.setAttribute('visible', true);
                setTimeout(() => {
                    methaneMolecule.setAttribute('visible', false);
                    methaneSphere.setAttribute('visible', true);
                }, 3000); // Show methane sphere after 3 seconds
            }
        });
    </script>
</body>
</html>
